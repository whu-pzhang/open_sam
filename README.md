# Open SAM


## SAM 分割精度测试

直接采用数据集真值生成 prompt，然后利用SAM完成分割，计算精度指标

### whu-building 

验证集

sam vit_b

| Class     | IoU   | Fscore | Precision | Recall |
| --------- | ----- | ------ | --------- | ------ |
| backgroud | 98.35 | 99.17  | 99.09     | 99.25  |
| building  | 87.31 | 93.22  | 93.86     | 92.6   |
| Mean      | 92.83 | 96.2   | 96.47     | 95.92  |

sam vit_l

| Class      | IoU   | Fscore | Precision | Recall |
| ---------- | ----- | ------ | --------- | ------ |
| background | 98.63 | 99.31  | 99.3      | 99.31  |
| building   | 89.4  | 94.41  | 94.44     | 94.37  |
| Mean       | 94.02 | 96.86  | 96.87     | 96.84  |

sam vit_h


| Class     | IoU   | Fscore | Precision | Recall |
| --------- | ----- | ------ | --------- | ------ |
| backgroud | 98.59 | 99.29  | 99.27     | 99.32  |
| building  | 89.14 | 94.26  | 94.45     | 94.06  |
| Mean      | 93.87 | 96.78  | 96.86     | 96.69  |



### loveDA

sam vit_b

| 类别         | IoU       | F1        | Prec      | Recall    |
| ------------ | --------- | --------- | --------- | --------- |
| background   | 58.08     | 73.48     | 75.37     | 71.36     |
| building     | 69.62     | 82.09     | 84.27     | 80.02     |
| road         | 30.12     | 46.29     | 35.03     | 68.23     |
| water        | 78.91     | 88.21     | 90.31     | 86.21     |
| barren       | 67.61     | 80.68     | 84.55     | 77.15     |
| forest       | 58.94     | 74.16     | 68.78     | 80.51     |
| agricultural | 77.11     | 87.07     | 90.93     | 83.53     |
| **mean**     | **62.91** | **76.00** | **75.65** | **78.14** |

sam vit_l

| 类别         | IoU       | F1        | Prec      | Recall    |
| ------------ | --------- | --------- | --------- | --------- |
| background   | 65.12     | 78.87     | 75.85     | 82.15     |
| building     | 70.74     | 82.86     | 83.47     | 82.26     |
| road         | 41.03     | 58.18     | 54.36     | 62.58     |
| water        | 78.28     | 87.82     | 90.83     | 85.00     |
| barren       | 66.82     | 80.11     | 84.43     | 76.21     |
| forest       | 59.27     | 74.43     | 71.80     | 77.26     |
| agricultural | 78.93     | 88.22     | 93.36     | 83.62     |
| **mean**     | **65.74** | **78.64** | **79.16** | **78.44** |


sam vit_h

| Method       | IoU       | F1        | Prec      | Recall    |
| ------------ | --------- | --------- | --------- | --------- |
| background   | 60.11     | 75.09     | 80.47     | 70.38     |
| building     | 71.96     | 83.69     | 82.73     | 84.67     |
| road         | 33.00     | 49.63     | 38.30     | 70.46     |
| water        | 79.66     | 88.68     | 89.74     | 87.65     |
| barren       | 69.93     | 82.30     | 81.94     | 82.67     |
| forest       | 60.20     | 75.16     | 67.50     | 84.78     |
| agricultural | 80.67     | 89.30     | 91.29     | 87.40     |
| **mean**     | **65.08** | **77.69** | **76.00** | **81.14** |


### Potsdam

sam vit_b

| Method             | IoU       | F1        | Prec      | Recall    |
| ------------------ | --------- | --------- | --------- | --------- |
| impervious_surface | 73.24     | 84.56     | 74.56     | 97.65     |
| building           | 77.20     | 87.13     | 98.33     | 78.22     |
| low_vegetation     | 79.77     | 88.75     | 88.67     | 88.82     |
| tree               | 65.65     | 79.26     | 91.27     | 70.04     |
| car                | 94.85     | 97.36     | 99.23     | 95.55     |
| clutter            | 73.14     | 84.49     | 91.37     | 78.57     |
| **mean**           | **77.31** | **86.92** | **90.57** | **84.81** |

sam vit_l

| Method             | IoU       | F1        | Prec      | Recall    |
| ------------------ | --------- | --------- | --------- | --------- |
| impervious_surface | 78.56     | 88.00     | 80.06     | 97.68     |
| building           | 86.75     | 92.90     | 98.35     | 88.03     |
| low_vegetation     | 81.85     | 89.81     | 89.61     | 90.01     |
| tree               | 67.87     | 80.86     | 92.70     | 71.70     |
| car                | 95.66     | 97.78     | 99.16     | 96.45     |
| clutter            | 75.67     | 86.15     | 91.14     | 81.68     |
| **mean**           | **81.00** | **89.25** | **91.84** | **87.59** |

sam vit_h

| Method             | IoU       | F1        | Prec      | Recall    |
| ------------------ | --------- | --------- | --------- | --------- |
| impervious_surface | 77.29     | 87.19     | 79.01     | 97.26     |
| building           | 83.57     | 91.05     | 98.54     | 84.62     |
| low_vegetation     | 81.12     | 89.58     | 89.01     | 90.15     |
| tree               | 67.65     | 80.71     | 91.37     | 72.27     |
| car                | 96.07     | 98.00     | 99.12     | 96.89     |
| clutter            | 75.33     | 85.93     | 89.88     | 82.31     |
| **mean**           | **80.17** | **88.74** | **90.57** | **87.25** |



## Acknowledgement

- [SAM](https://github.com/facebookresearch/segment-anything)
- [MobileSAM](https://github.com/ChaoningZhang/MobileSAM)
- [HQ-SAM](https://github.com/SysCV/sam-hq/tree/main)
